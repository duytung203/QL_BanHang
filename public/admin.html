<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin ThanhTra Tea</title>
  <link rel="stylesheet" href="/CSS/admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>
<body>
  <!-- menu admin -->
  <aside class="sidebar">
    <h2>ADMIN THANHTRATEA</h2>
    <ul>
      <li><a onclick="showSection('reportSection')">Th·ªëng k√™ b√°o c√°o</a></li>
      <li><a onclick="showSection('userSection')">Qu·∫£n l√Ω ng∆∞·ªùi d√πng</a></li>
      <li><a onclick="showSection('productSection')">Qu·∫£n l√Ω s·∫£n ph·∫©m</a></li>
      <li><a onclick="showSection('orderSection')">Qu·∫£n l√Ω ƒë∆°n h√†ng</a></li>
      <li><a onclick="showSection('promotionSection')">Qu·∫£n l√Ω khuy·∫øn m√£i</a></li>
      <li><a href="#" id="logoutBtn">ƒêƒÉng xu·∫•t</a></li>
    </ul>
  </aside>
  <!-- N·ªôi dung qu·∫£n l√Ω user -->
  <div id="userSection" style="display: none;">
  <h1>Qu·∫£n l√Ω t√†i kho·∫£n ng∆∞·ªùi d√πng</h1>
  <h2>Th√™m ng∆∞·ªùi d√πng</h2>
  <div class="form-group">
    <input placeholder="Username" id="username" />
    <input placeholder="Email" id="email" />
    <input placeholder="Password" id="password" type="password" />
    <select id="role">
      <option value="user">Ng∆∞·ªùi d√πng</option>
      <option value="admin">Qu·∫£n tr·ªã vi√™n</option>
    </select>
    <button onclick="createUser()">Th√™m</button>
  </div>
  <div class="scrollable-table">
    <table id="userTable">
      <thead>
        <tr>
          <th>ID</th>
          <th>T√™n ng∆∞·ªùi d√πng</th>
          <th>Email</th>
          <th>Vai tr√≤</th>
          <th>Tr·∫°ng th√°i</th>
          <th>H√†nh ƒë·ªông</th>
          <th>H√†nh ƒë·ªông</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<!-- N·ªôi dung qu·∫£n l√Ω s·∫£n ph·∫©m -->
  <div id="productSection" style="display: none;">
  <h1>Qu·∫£n l√Ω s·∫£n ph·∫©m</h1>
  <h2>Th√™m s·∫£n ph·∫©m</h2>
  <form id="productForm" onsubmit="event.preventDefault(); createProduct();">
    <input type="text" name="name" placeholder="T√™n s·∫£n ph·∫©m">
    <input type="number" name="price" placeholder="Gi√°">
    <input type="text" name="image" placeholder="·∫¢nh (vd:images/tra/tra_chanh.jpg)">
    <select name="category">
      <option value="">Ch·ªçn danh m·ª•c</option>
      <option value="tea">Tr√†</option>
      <option value="coffee">C√† ph√™</option>
      <option value="banh">B√°nh</option>
      <option value="anvat">ƒÇn v·∫∑t</option>
    </select>
    <input name="mota" placeholder="M√¥ t·∫£ s·∫£n ph·∫©m">
    <button type="submit">Th√™m s·∫£n ph·∫©m</button>
  </form>
    <div class="scrollable-table">
    <table id="productTable">
      <thead>
        <tr>
          <th>ID</th>
          <th>·∫¢nh</th>
          <th>T√™n</th>
          <th>Gi√°</th>
          <th>Danh m·ª•c</th>
          <th>M√¥ t·∫£</th>
          <th>X√≥a s·∫£n ph·∫©m</th>
          <th>C·∫≠p nh·∫≠t</th>
        </tr>
      </thead>
      <tbody id="productTableBody">
        <!-- d·ªØ li·ªáu th√™m b·∫±ng JS -->
      </tbody>
    </table>
  </div>
    <input type="text" id="searchInput" class="search-box" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m...">
    <button onclick="searchProducts()">üîç T√¨m ki·∫øm</button>
    <button onclick="loadProducts()">üîÑ T·∫£i l·∫°i t·∫•t c·∫£</button>
</div>
  <!-- N·ªôi dung qu·∫£n l√Ω ƒë∆°n h√†ng -->
  <div id="orderSection">
    <h1>Qu·∫£n l√Ω ƒë∆°n h√†ng</h1>
    <div class="scrollable-table">
      <table id="order-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Ng∆∞·ªùi ƒë·∫∑t</th>
            <th>T·ªïng ti·ªÅn</th>
            <th>Tr·∫°ng th√°i</th>
            <th>Ng√†y t·∫°o</th>
            <th>H√†nh ƒë·ªông</th>
          </tr>
        </thead>
        <tbody id="order-list"></tbody>
      </table>
    </div>
  </div>
<!-- Modal ch·ªânh s·ª≠a th√¥ng tin s·∫£n ph·∫©m -->
   <div id="editModal" style="display:none;">
  <div>
    <h3>Ch·ªânh s·ª≠a s·∫£n ph·∫©m</h3>
    
    <input type="text" id="editName" placeholder="T√™n s·∫£n ph·∫©m"><br><br>
    <input type="number" id="editPrice" placeholder="Gi√°" ><br><br>

    <select id="editCategory">
      <option value="">Ch·ªçn danh m·ª•c</option>
      <option value="tea">Tr√†</option>
      <option value="coffee">C√† ph√™</option>
      <option value="banh">B√°nh</option>
      <option value="anvat">ƒÇn v·∫∑t</option>
    </select><br><br>

    <input type="text" id="editImage" placeholder="Link ·∫£nh"><br><br>
    <textarea id="editMota" placeholder="M√¥ t·∫£ s·∫£n ph·∫©m"></textarea><br><br>

    <!-- Khuy·∫øn m√£i -->
    <h4>Th√¥ng tin khuy·∫øn m√£i</h4>
    <input type="number" id="editDiscount" placeholder="Ph·∫ßn trƒÉm gi·∫£m gi√° (%)"><br><br>
    <label for="editStartDate">Ng√†y b·∫Øt ƒë·∫ßu:</label><br>
    <input type="date" id="editStartDate"><br><br>
    <label for="editEndDate">Ng√†y k·∫øt th√∫c:</label><br>
    <input type="date" id="editEndDate"><br><br>

    <button onclick="submitUpdate()">L∆∞u</button>
    <button onclick="closeEditModal()">H·ªßy</button>
  </div>
</div>
  <!-- N·ªôi dung qu·∫£n l√Ω khuy·∫øn m√£i -->
  <div id="promotionSection" style="display: none;">
    <h1>Qu·∫£n l√Ω khuy·∫øn m√£i</h1>
    <div class="scrollable-table">
      <table id="promotionTable">
        <thead>
          <tr>
            <th>ID S·∫£n ph·∫©m</th>
            <th>Gi·∫£m gi√° (%)</th>
            <th>Ng√†y b·∫Øt ƒë·∫ßu</th>
            <th>Ng√†y k·∫øt th√∫c</th>
            <th>C·∫≠p nh·∫≠t</th>
            <th>X√≥a</th>
          </tr>
        </thead>
        <tbody id="promotionTableBody"></tbody>
      </table>
    </div>
    <!--modal ch·ªânh s·ª≠a khuy·∫øn m√£i-->
    <div id="promotionEditModal" style="display:none;">
  <div>
    <h3>Ch·ªânh s·ª≠a khuy·∫øn m√£i</h3>
    <input type="hidden" id="editPromotionProductId">
    <input type="number" id="editPromotionDiscount" placeholder="Gi·∫£m gi√° (%)"><br><br>
    <label for="editPromotionStartDate">Ng√†y b·∫Øt ƒë·∫ßu:</label><br>
    <input type="date" id="editPromotionStartDate"><br><br>
    <label for="editPromotionEndDate">Ng√†y k·∫øt th√∫c:</label><br>
    <input type="date" id="editPromotionEndDate"><br><br>

    <button onclick="submitPromotionUpdate()">L∆∞u</button>
    <button onclick="closePromotionEditModal()">H·ªßy</button>
  </div>
 </div>
</div>
<!-- modal th·ªëng k√™ v√† b√°o c√°o -->
<div id="reportSection" style="display: none;">
  <h1>Th·ªëng k√™ v√† b√°o c√°o</h1>
  <canvas id="topProductsChart" width="400" height="200"></canvas>
  <canvas id="revenueChart" width="100" height="50"></canvas>
  <canvas id="orderStatusChart" width="400" height="50"></canvas>
</div>
  <script src="js/admin.js"></script>
</body>
</html>
